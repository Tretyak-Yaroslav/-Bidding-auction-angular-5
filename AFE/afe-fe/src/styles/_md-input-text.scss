.md-input-group {
  background:    $text-input-bg;
  position:      relative;
  overflow:      hidden;

  input {
    position:    relative;
    left:        0;
    top:         0;
    right:       0;
    padding:     8px;
    padding-top: 30px;
    width:       100%;
    font-size:   $body-font-size;
    color:       $text-input-active-color;
    background:  transparent;
    border:      0;
    outline:     none;
  }

  label {
    position:           absolute;
    left:               0;
    top:                18px;
    font-size:          $body-font-size;
    color:              $text-input-color;
    cursor:             text;
    transition:         0.2s ease all;
    -moz-transition:    0.2s ease all;
    -webkit-transition: 0.2s ease all;
  }

  .md-bar {
    width:      100%;
    height:     2px;
    background: $text-input-secondary;

    &:before, &:after {
      height:             2px;
      display:            block;
      content:            '';
      bottom:             0;
      width:              0;
      position:           absolute;
      background:         $text-input-active-secondary;
      transition:         0.2s ease all;
      -moz-transition:    0.2s ease all;
      -webkit-transition: 0.2s ease all;
    }

    &:before {
      left: 50%;
    }

    &:after {
      right: 50%;
    }
  }

  input:focus ~, input:valid ~, input.valid ~ {
    label {
      top:       8px;
      font-size: 12px;
      color:     $text-input-active-secondary;
    }

    .md-bar {
      &:before, &:after {
        width: 50%;
      }
    }

    .md-icon {
      color: $text-input-active-secondary;
      top:   26px;
    }
  }

  input.error ~ {
    label {
      color: $danger;
    }

    .md-bar {
      &:before, &:after {
        background: $danger;
      }
    }
  }

}

.md-icon-before {
  input {
    padding-left: 48px;
  }
  label {
    left: 48px;
  }

  .md-icon {
    position:           absolute;
    color:              $text-input-secondary;
    left:               8px;
    top:                18px;
    height:             24px;
    width:              24px;
    transition:         0.2s ease all;
    -moz-transition:    0.2s ease all;
    -webkit-transition: 0.2s ease all;
  }

}

.md-icon-after {
  input {
    padding-right: 48px;
  }

  .md-icon.icon-after {
    position: absolute;
    color:    white;
    left:     unset;
    right:    8px;
    top:      18px;
    height:   24px;
    width:    24px;
  }
  .md-icon.active {
    color: $text-input-active-secondary;
    top:   26px;
  }

}
