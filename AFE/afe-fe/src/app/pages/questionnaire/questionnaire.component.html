<div class="container">
  <h2 class="mt-4">Questionnaire</h2>
  <p class="text-primary-lighter">Please answer questions below</p>

  <h3 class="mt-5">Questions</h3>

  <form [formGroup]="questionnaireForm">
    <div class="row">
      <div class="col-12 col-md-6 my-3" *ngFor="let question of questions">
        <div class="md-select-group">

          <select class="w-100 form-control text-primary-lighter border-info my-1"
                  [formControlName]="question.code"
                  id="quest{{ question.code }}"
                  [ngClass]="{ 'error': ( questionnaireForm.controls[question.code].invalid && questionnaireForm.controls[question.code].dirty ) }"
                  required>
            <option *ngFor="let answer of question.answers"
                    value="{{ answer.code }}">{{ answer.text }}</option>
          </select>
          <label class="w-100" for="quest{{ question.code }}">{{ question.text }}</label>
          <div class="md-bar"></div>
        </div>
      </div>
    </div>
    <div *ngIf="!loading" class="row my-5">
      <div class="col-12 text-right">
        <!--<span>{{ errorMessage }}</span>-->
        <button class="btn btn-link px-5"
                [disabled]="loading ? 'disabled': null"
                (click)="reset()">Reset
        </button>
        <button class="btn btn-primary px-5"
                [disabled]="loading ? 'disabled': null"
                [ngClass]="{ 'btn-outline-primary disabled': questionnaireForm.invalid }"
                (click)="submit()">Apply
        </button>
        <button class="btn btn-link px-5"
                (click)="skip()">Skip
        </button>
      </div>
    </div>
    <br>
  </form>
</div>

