<div class="container pb-5">
  <h2 class="mt-4">Edit product</h2>
  <p class="text-primary-lighter">Here you can change your product</p>

  <h3 class="mt-5">Item Information</h3>

  <form [formGroup]="editForm">
    <div class="row my-3">

      <div class="col-12 col-md-6">
        <div class="md-input-group">
          <input formControlName="name"
                 id="name"
                 type="text"
                 required
                 [ngClass]="{ 'error': (name.invalid && name.dirty) }">
          <label class="w-100" for="name">Title
            <span *ngIf="name.invalid && name.dirty" class="text-danger" style="position: absolute; top:0; right: 0;">
            Required to fill
              <i class="md-icon material-icons"
                 style="font-size: inherit">error</i></span>
          </label>
          <div class="md-bar"></div>
        </div>
      </div>

      <div class="col-12 col-md-6">
        <div class="md-input-group md-icon-after">
          <input formControlName="startingBid"
                 id="startingBid"
                 #startingBidRef
                 type="text"
                 required
                 [ngClass]="{ 'error': (startingBid.invalid && startingBid.dirty) }">
          <label class="w-100" for="startingBid">Starting bid
            <span *ngIf="startingBid.invalid && startingBid.dirty && startingBid.errors"
                  class="text-danger text-right"
                  style="position: absolute; top:0; right: 0; height: 1.5em; overflow-y: hidden">
                 <span *ngIf="startingBid.errors.required != null">
                   Required to fill
                   <i class="md-icon material-icons" style="font-size: inherit">error</i>
                   <br>
                 </span>
                 <span *ngIf="startingBid.errors.onlyNumber != null">
                   Please use only numbers
                   <i class="md-icon material-icons" style="font-size: inherit">error</i>
                   <br>
                 </span>
             </span>
          </label>
          <div class="md-bar"></div>
        </div>
      </div>

    </div>

    <div class="row my-3">

      <div class="col-12 col-md-6">
        <div class="md-input-group">
          <input formControlName="buyOutPrice"
                 id="buyOutPrice"
                 type="text"
                 required
                 [ngClass]="{ 'error': (buyOutPrice.invalid && buyOutPrice.dirty) }">

          <label class="w-100" for="buyOutPrice">Buyout price
            <span *ngIf="buyOutPrice.invalid && buyOutPrice.dirty && buyOutPrice.errors" class="text-danger text-right"
                  style="position: absolute; top:0; right: 0; height: 1.5em; overflow-y: hidden">
                 <span *ngIf="buyOutPrice.errors.required != null">
                   Required to fill
                   <i class="md-icon material-icons" style="font-size: inherit">error</i>
                   <br>
                 </span>
                 <span *ngIf="buyOutPrice.errors.onlyNumber != null">
                   Please use only numbers
                   <i class="md-icon material-icons" style="font-size: inherit">error</i>
                   <br>
                 </span>
             </span>
          </label>
          <div class="md-bar"></div>
        </div>
      </div>

      <div class="col-12 col-md-6 my-3">
        <div class="md-select-group">
          <select class="w-100 form-control border-info my-1"
                  formControlName="platformId"
                  id="platform"
                  [ngClass]="{ 'error': ( editForm.controls['platformId'].invalid && editForm.controls['platformId'].dirty ) }"
                  required>
            <option *ngFor="let platform of dictionary"
                    value="{{ platform.platformId }}">{{ platform.name }}
            </option>
          </select>
          <label class="w-100" for="platform">Select platform</label>
          <div class="md-bar"></div>
        </div>
      </div>

      <!--  <div class="col-12 col-md-6">
          <div class="md-input-group md-icon-after">
            <input formControlName="documentFiles"
                   id="documentFiles"
                   #documentFilesRef
                   type="file"
                   class=""
                   required
                   [ngClass]="{ 'error': (documentFiles.invalid && documentFiles.dirty) }">
            <label class="w-100" for="documentFiles">Document Scann
              <span *ngIf="documentFiles.invalid && documentFiles.dirty"
                    class="text-danger"
                    style="position: absolute; top:0; right: 0;">
              Required to fill
                <i class="md-icon material-icons"
                   style="font-size: inherit">error</i></span>
            </label>
            <div class="md-bar"></div>
          </div>
        </div>
  -->
    </div>

    <div class="row my-3">

      <div class="col-12">
        <div class="md-textarea-group">
          <textarea formControlName="description"
                    id="description"
                    #descriptionRef
                    required
                    [ngClass]="{ 'error': (description.invalid && description.dirty) }">
          </textarea>
          <label class="w-100" for="description">Description
            <span *ngIf="description.invalid && description.dirty"
                  class="text-danger"
                  style="position: absolute; top:0; right: 0;">
            Required to fill
              <i class="md-icon material-icons"
                 style="font-size: inherit">error</i></span>
          </label>
          <div class="md-bar"></div>
        </div>
      </div>

    </div>

    <div class="row my-3">

      <div class="col-12 col-md-6">
        <div class="md-input-group">
          <input formControlName="startDate"
                 [owlDateTime]="dt1"
                 [owlDateTimeTrigger]="dt1"
                 id="startDate"
                 placeholder=""
                 [ngClass]="{ 'error': (startDate.invalid && startDate.dirty) }"
                 required>
          <owl-date-time #dt1></owl-date-time>
          <label class="w-100" for="startDate">Starting date/time
            <span *ngIf="startDate.invalid && startDate.dirty"
                  class="text-danger"
                  style="position: absolute; top:0; right: 0;">
            Required to fill
              <i class="md-icon material-icons"
                 style="font-size: inherit">error</i></span>
          </label>
          <div class="md-bar"></div>
        </div>
      </div>

      <div class="col-12 col-md-6">
        <div class="md-input-group">
          <input formControlName="endDate"
                 [owlDateTime]="dt2"
                 [owlDateTimeTrigger]="dt2"
                 id="endDate"
                 placeholder=""
                 [ngClass]="{ 'error': (endDate.invalid && endDate.dirty) }"
                 required>
          <owl-date-time #dt2></owl-date-time>
          <label class="w-100" for="endDate">End date/time
            <span *ngIf="endDate.invalid && endDate.dirty"
                  class="text-danger"
                  style="position: absolute; top:0; right: 0;">
            Required to fill
              <i class="md-icon material-icons"
                 style="font-size: inherit">error</i></span>
          </label>
          <div class="md-bar"></div>
        </div>
      </div>

    </div>


    <div class="row my-5">
      <div class="col-6 text-center">
        <!--  <div>
            <input id="remember" type="checkbox">
            <label for="remember" class="btn-link ml-2">Keep me logged-in</label>
          </div>-->
        <div *ngIf="loading" class="text-primary loader-points_three" style="margin: 0 auto;"></div>
        <p *ngIf="error" class="text-danger">
          {{error}}<br>
          Make sure that all fields filled correctly.
        </p>

      </div>

      <div class="col-6 text-right">
        <button class="btn btn-primary px-5"
                [disabled]="loading ? 'disabled': null"
                [ngClass]="{ 'btn-outline-primary disabled': editForm.invalid }"
                (click)="submit()">Save
        </button>
      </div>

    </div>
  </form>
</div>
